# منصة دعم ضحايا اضطراب ما بعد الصدمة - PTSD Support Platform

## نظرة عامة

تم تحديث منصة دعم PTSD لتوفير تجربة مستخدم حديثة ومتجاوبة مع التركيز على تحسين قابلية الاستخدام والتصميم والميزات الجديدة.

## الميزات الجديدة المضافة

### 1. تحسينات واجهة المستخدم (UI/UX)
- ✅ تصميم حديث ومتجاوب باستخدام Bootstrap 5
- ✅ نظام ألوان متناسق مع هوية بصرية واضحة
- ✅ تصميم متجاوب بالكامل للهواتف المحمولة
- ✅ تحسين التخطيط والمسافات ووضوح المكونات
- ✅ تنقل بديهي واستخدام HTML الدلالي

### 2. نظام تسجيل الأطباء المحسن
- ✅ صفحة تسجيل جديدة للأطباء مع حقول إضافية
- ✅ تخزين ملف الطبيب مع علامة `status: 'pending'`
- ✅ منع تسجيل الدخول للأطباء حتى يتم الموافقة على طلبهم
- ✅ حقول إضافية: التخصص، رقم الترخيص، رقم الهاتف

### 3. لوحة الإدارة الجديدة
- ✅ مسار محمي للإدارة
- ✅ جدول لعرض طلبات الأطباء المعلقة
- ✅ أزرار الموافقة/الرفض لكل طلب
- ✅ إحصائيات مباشرة للوحة التحكم
- ✅ تحديث حالة المستخدم في الوقت الفعلي

### 4. ميزة نسيان كلمة المرور
- ✅ رابط "نسيت كلمة المرور؟" في صفحة تسجيل الدخول
- ✅ نموذج لإدخال البريد الإلكتروني
- ✅ إرسال رابط إعادة التعيين عبر Firebase Authentication
- ✅ رسائل نجاح/خطأ واضحة للمستخدم

### 5. الأمان والتحكم في الوصول
- ✅ حماية المسارات بناءً على الأدوار (admin, doctor, patient)
- ✅ تنظيف جميع مدخلات النماذج
- ✅ اتباع أفضل ممارسات OWASP للمصادقة وإدارة الجلسات
- ✅ التحقق من صحة المدخلات والتحقق من الأمان

### 6. تحديث قاعدة البيانات
- ✅ إضافة حقول جديدة للمستخدمين (status, specialty, licenseNumber, phoneNumber)
- ✅ تحسين هيكل البيانات للأطباء
- ✅ تتبع تواريخ الطلبات والموافقات

## هيكل الملفات المحدث

```
├── index.html              # الصفحة الرئيسية المحدثة
├── login.html              # صفحة تسجيل الدخول المحسنة
├── login.js                # منطق تسجيل الدخول مع نسيان كلمة المرور
├── register.html           # صفحة التسجيل المحدثة
├── register.js             # منطق التسجيل المحسن للأطباء
├── admin-dashboard.html    # لوحة الإدارة الجديدة
├── admin-dashboard.js      # منطق لوحة الإدارة
├── doctor-dashboard.html   # لوحة الطبيب المحدثة
├── doctor-dashboard.js     # منطق لوحة الطبيب المحسن
├── styles.css              # ملف CSS مشترك للتصميم
├── firebase-config.js      # إعدادات Firebase
├── auth-guard.js           # حماية المسارات
└── README.md               # هذا الملف
```

## الملفات الجديدة المضافة

1. **admin-dashboard.html** - لوحة إدارة كاملة للأطباء
2. **admin-dashboard.js** - منطق إدارة طلبات الأطباء
3. **styles.css** - نظام تصميم مشترك ومتسق

## التحسينات التقنية

### الأمان
- تنظيف المدخلات لمنع XSS
- التحقق من صحة البريد الإلكتروني
- حماية المسارات بناءً على الأدوار
- إدارة الجلسات الآمنة

### الأداء
- تحميل CSS مشترك لتحسين الأداء
- تحسين الصور والخطوط
- تحميل تدريجي للمحتوى

### قابلية الوصول
- استخدام HTML الدلالي
- تسميات واضحة للنماذج
- تباين لوني محسن
- دعم لوحة المفاتيح

## كيفية الاستخدام

### للمرضى
1. إنشاء حساب جديد من صفحة التسجيل
2. تسجيل الدخول والوصول للميزات
3. استخدام نسيان كلمة المرور إذا لزم الأمر

### للأطباء
1. إنشاء حساب طبيب مع معلومات إضافية
2. انتظار الموافقة من الإدارة
3. الوصول للوحة الطبيب بعد الموافقة

### للإدارة
1. تسجيل الدخول بحساب الإدارة
2. الوصول للوحة الإدارة
3. مراجعة طلبات الأطباء والموافقة/الرفض

## متطلبات النظام

- متصفح ويب حديث (Chrome, Firefox, Safari, Edge)
- اتصال بالإنترنت
- حساب Firebase صالح

## التثبيت والتشغيل

1. قم برفع الملفات إلى خادم ويب
2. تأكد من تكوين Firebase بشكل صحيح
3. اختبر جميع الميزات الجديدة
4. راقب سجلات الأخطاء للتأكد من الأداء

## ملاحظات التطوير

- تم الحفاظ على منطق Firebase الأصلي
- تم إضافة ميزات جديدة دون كسر الوظائف الموجودة
- تم تحسين التصميم مع الحفاظ على الهوية البصرية
- تم إضافة تعليقات واضحة للكود

## الدعم والصيانة

- مراجعة دورية لسجلات الأخطاء
- تحديث Firebase SDK عند الحاجة
- مراقبة أداء التطبيق
- تحديثات أمنية دورية

## المساهمة

للمساهمة في تطوير المشروع:
1. قم بعمل fork للمشروع
2. أنشئ فرع جديد للميزة
3. اكتب اختبارات للميزات الجديدة
4. قدم pull request مع وصف واضح

## الترخيص

هذا المشروع مرخص تحت رخصة MIT. راجع ملف LICENSE للتفاصيل.

---

**تم التطوير بواسطة فريق دعم PTSD - السودان**